<?xml version="1.0" encoding="UTF-8"?>
<simulation>

  <!-- In this version we have ONE context  -->


  <context id = "gungho_atm">

   <axis_definition>
    <axis id="vert_axis_half_levels" name="half_levels"/>
    <axis id="vert_axis_full_levels" name="full_levels"/>
    <axis id="monthly_axis" name="monthly_axis" n_glo="12"/>
    <axis id="radiation_levels" name="radiation_levels"/>
   </axis_definition>


   <grid_definition>
    <grid id="node_grid">
      <domain domain_ref="node"/>
      <axis axis_ref="vert_axis_full_levels"/>
    </grid>
    <grid id="half_level_face_grid">
      <domain domain_ref="face"/>
      <axis axis_ref="vert_axis_half_levels"/>
    </grid>
    <grid id="full_level_face_grid">
      <domain domain_ref="face"/>
      <axis axis_ref="vert_axis_full_levels"/>
    </grid>
    <grid id="half_level_edge_grid">
      <domain domain_ref="edge"/>
      <axis axis_ref="vert_axis_half_levels"/>
    </grid>
    <grid id="3D_monthly_grid">
      <domain domain_ref="face"/>
      <axis axis_ref="vert_axis_half_levels"/>
      <axis axis_ref="monthly_axis"/>
    </grid>
   </grid_definition>

   <field_definition prec="8" >

     <!-- Checkpoint group -->
     <field_group id="checkpoint_fields" freq_op="1ts" operation="once"  enabled=".FALSE." >
       <field id="checkpoint_theta" name="theta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_rho" name="rho" long_name="air_density" standard_name="air_density" unit="kg m-3" domain_ref="checkpoint_W3" />
       <field id="checkpoint_exner" name="exner" long_name="exner_pressure" unit="1" domain_ref="checkpoint_W3" />
       <field id="checkpoint_u" name="u" long_name="U" unit="m s-1" domain_ref="checkpoint_W2" />
       <field id="checkpoint_m_v" name="m_v" long_name="m_v" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_m_cl" name="m_cl" long_name="m_cl" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_m_r" name="m_r" long_name="m_r" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_m_ci" name="m_ci" long_name="m_ci" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_m_s" name="m_s" long_name="m_s" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_m_g" name="m_g" long_name="m_g" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <!-- LBC fields-->
       <field id="checkpoint_lbc_theta" name="lbc_theta" long_name="lbc_air_potential_temperature" standard_name="lbc_air_potential_temperature" unit="K" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_lbc_rho" name="lbc_rho" long_name="lbc_air_density" standard_name="lbc_air_density" unit="kg m-3" domain_ref="checkpoint_W3" />
       <field id="checkpoint_lbc_exner" name="lbc_exner" long_name="lbc_exner_pressure" unit="1" domain_ref="checkpoint_W3" />
       <field id="checkpoint_lbc_u" name="lbc_u" long_name="lbc_U" unit="m s-1" domain_ref="checkpoint_W2" />
       <field id="checkpoint_boundary_u_diff" name="boundary_u_diff" long_name="boundary_u_diff" unit="m s-1" domain_ref="checkpoint_W2" />
       <field id="checkpoint_boundary_u_driving" name="boundary_u_driving" long_name="boundary_u_driving" unit="m s-1" domain_ref="checkpoint_W2" />
       <field id="checkpoint_lbc_m_v" name="lbc_m_v" long_name="lbc_m_v" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_lbc_m_cl" name="lbc_m_cl" long_name="lbc_m_cl" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_lbc_m_r" name="lbc_m_r" long_name="lbc_m_r" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_lbc_m_ci" name="lbc_m_ci" long_name="lbc_m_ci" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_lbc_m_s" name="lbc_m_s" long_name="lbc_m_s" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_lbc_m_g" name="lbc_m_g" long_name="lbc_m_g" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       </field_group>

     <!-- derived fields group -->
     <field_group id="derived_fields" freq_op="1ts" operation="instant" enabled=".TRUE." >
       <field id="velocity_w2v" name="velocity_w2v" long_name="vertical wind on physics points" standard_name="vertical_velocity" unit="ms-1" grid_ref="full_level_face_grid" />
       <field id="rho_in_wth" name="rho_in_wth" long_name="dry air density on wtheta points" standard_name="air_density" unit="kg m-3" grid_ref="full_level_face_grid" />
       <field id="wetrho_in_wth" name="wetrho_in_wth" long_name="wet air density on wtheta points" standard_name="air_density" unit="kg m-3" grid_ref="full_level_face_grid" />
       <field id="exner_in_wth" name="exner_in_wth" long_name="Exner pressure on wtheta points" standard_name="air_pressure" unit="1" grid_ref="full_level_face_grid" />
       <field id="exner_wth_n" name="exner_wth_n" long_name="start_of_timestep_exner_pressure_at_cell_interfaces" unit="1" grid_ref="full_level_face_grid" />
       <field id="theta_star" name="theta_star" long_name="air potential temperature: physics predictor" standard_name="air_potential_temperature" unit="K" grid_ref="full_level_face_grid" />
       <field id="shear" name="shear" long_name="3D wind shear" unit="s-1" grid_ref="full_level_face_grid" />
       <field id="u_in_w3" name="u_in_w3" long_name="physics U wind on W3 points" standard_name="eastward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="v_in_w3" name="v_in_w3" long_name="physics V wind on W3 points" standard_name="northward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="w_in_w3" name="w_in_w3" long_name="physics W wind on W3 points" standard_name="upward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="u_in_w3_star" name="u_in_w3_star" long_name="physics U wind on W3 points: physics predictor" standard_name="eastward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="v_in_w3_star" name="v_in_w3_star" long_name="physics V wind on W3 points: physics predictor" standard_name="northward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="w_in_w3_star" name="w_in_w3_star" long_name="physics W wind on W3 points: physics predictor" standard_name="upward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="theta_in_w3" name="theta_in_w3" long_name="air potential temperature on W3 points" standard_name="air_potential_temperature" unit="K" grid_ref="half_level_face_grid" />
       <field id="wetrho_in_w3" name="wetrho_in_w3" long_name="wet air density on w3 points" standard_name="air_density" unit="kg m-3" grid_ref="half_level_face_grid" />
     </field_group>

     <!-- Main diagnostic group -->
     <field_group id="diagnostic_fields" freq_op="1ts" operation="instant" enabled=".TRUE." >
       <field id="theta" name="theta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" grid_ref="full_level_face_grid" />
       <field id="m_v" name="m_v" long_name="m_v" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="m_cl" name="m_cl" long_name="m_cl" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="m_r" name="m_r" long_name="m_r" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="m_ci" name="m_ci" long_name="m_ci" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="m_s" name="m_s" long_name="m_s"  unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="m_g" name="m_g" long_name="m_g"  unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="rho" name="rho" long_name="air_density" standard_name="air_density" unit="kg m-3" grid_ref="half_level_face_grid" />
       <field id="xi1" name="xi1" long_name="Xi1" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="xi2" name="xi2" long_name="Xi2" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="xi3" name="xi3" long_name="Xi3" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="u_in_w2h" name="u_in_w2h" long_name="eastward_wind" standard_name="eastward_wind" unit="m s-1" grid_ref="half_level_edge_grid" />
       <field id="v_in_w2h" name="v_in_w2h" long_name="northward_wind" standard_name="northward_wind" unit="m s-1" grid_ref="half_level_edge_grid" />
       <field id="w_in_wth" name="w_in_wth" long_name="upward_air_velocity" standard_name="upward_air_velocity" unit="m s-1" grid_ref="full_level_face_grid" />
       <field id="divergence" name="divergence" long_name="divergence_of_wind" standard_name="divergence_of_wind" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="exner" name="exner" long_name="exner_pressure" unit="1" grid_ref="half_level_face_grid" />
       <field id="height_w3" name="height_w3" long_name="height_of_cell_centres_above_earth_radius" unit="m" grid_ref="half_level_face_grid" />
       <field id="height_wth" name="height_wth" long_name="height_of_cell_interfaces_above_earth_radius" unit="m" grid_ref="full_level_face_grid" />
       <!-- advection diagnostics -->
       <field id="advection__dtheta_adv" name="dtheta_adv" long_name="potential_temperature_increment_from_advection" unit="K" grid_ref="full_level_face_grid" />
       <field id="advection__du_adv" name="du_adv" long_name="eastward_wind_increment_from_advection" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="advection__dv_adv" name="dv_adv" long_name="northward_wind_increment_from_advection" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="advection__dw_adv" name="dw_adv" long_name="vertical_air_velocity_increment_from_advection" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="advection__dmv_adv" name="dmv_adv" long_name="vapour_increment_from_advection" unit="kg kg-1" grid_ref="full_level_face_grid" />
       <field id="advection__dmcl_adv" name="dmcl_adv" long_name="liquid_water_increment_from_advection" unit="kg kg-1" grid_ref="full_level_face_grid" />
       <field id="advection__dmci_adv" name="dmci_adv" long_name="frozen_water_increment_from_advection" unit="kg kg-1" grid_ref="full_level_face_grid" />
       <field id="advection__dbcf_adv" name="dbcf_adv" long_name="bulk_cloud_fraction_increment_from_advection" unit="1" grid_ref="full_level_face_grid" />
       <field id="advection__dcfl_adv" name="dcfl_adv" long_name="liquid_cloud_fraction_increment_from_advection" unit="1" grid_ref="full_level_face_grid" />
       <field id="advection__dcff_adv" name="dcff_adv" long_name="frozen_cloud_fraction_increment_from_advection" unit="1" grid_ref="full_level_face_grid" />
       <!-- solver diagnostics -->
       <field id="solver__dtheta_solv" name="dtheta_solv" long_name="potential_temperature_increment_from_solver" unit="K" grid_ref="full_level_face_grid" />
       <field id="solver__du_solv" name="du_solv" long_name="eastward_wind_increment_from_solver" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="solver__dv_solv" name="dv_solv" long_name="northward_wind_increment_from_solver" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="solver__dw_solv" name="dw_solv" long_name="vertical_air_velocity_increment_from_solver" unit="m s-1" grid_ref="half_level_face_grid" />
       <!-- Processed diagnostics -->
       <field id="processed__dtheta_tot" name="dtheta_tot" long_name="total_potential_temperature_increment" unit="K" grid_ref="full_level_face_grid" />
       <field id="processed__dmv_tot" name="dmv_tot" long_name="total_vapour_increment" unit="kg kg-1" grid_ref="full_level_face_grid" />
       <field id="processed__dmcl_tot" name="dmcl_tot" long_name="total_liquid_water_increment" unit="kg kg-1" grid_ref="full_level_face_grid" />
       <field id="processed__dmci_tot" name="dmci_tot" long_name="total_frozen_water_increment" unit="kg kg-1" grid_ref="full_level_face_grid" />
       <field id="processed__du_tot" name="du_tot" long_name="total_eastward_wind_increment" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="processed__dv_tot" name="dv_tot" long_name="total_northward_wind_increment" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="processed__dw_tot" name="dw_tot" long_name="total_vertical_air_velocity_increment" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="processed__tot_col_dry_air_mass" name="tot_col_dry_air_mass" long_name="atmosphere_mass_of_air_per_unit_area" unit="kg m-2" domain_ref="face" />
       <field id="processed__tot_col_m_v" name="tot_col_m_v" long_name="atmosphere_mass_content_of_water_vapor" unit="kg m-2" domain_ref="face" />
       <field id="processed__tot_col_m_cl" name="tot_col_m_cl" long_name="atmosphere_mass_content_of_cloud_liquid_water" unit="kg m-2" domain_ref="face" />
       <field id="processed__tot_col_m_r" name="tot_col_m_r" long_name="atmosphere_mass_content_of_liquid_precipitation" unit="kg m-2" domain_ref="face" />
       <field id="processed__tot_col_m_ci" name="tot_col_m_ci" long_name="atmosphere_mass_content_of_cloud_ice" unit="kg m-2" domain_ref="face" />
       <field id="processed__tot_col_m_s" name="tot_col_m_s" long_name="atmosphere_mass_content_of_snow" unit="kg m-2" domain_ref="face" />
       <field id="processed__tot_col_m_g" name="tot_col_m_g" long_name="atmosphere_mass_content_of_graupel" unit="kg m-2" domain_ref="face" />
       <field id="processed__tot_col_wetplusdry_mass" name="tot_col_wetplusdry_mass" long_name="atmosphere_wetplusdry_mass_per_unit_area" unit="kg m-2" domain_ref="face" />
       <field id="processed__tot_col_int_energy" name="tot_col_int_energy" long_name="atmosphere_energy_content" unit="J m-2" domain_ref="face" />
       <field id="processed__tot_col_pot_energy" name="tot_col_pot_energy" long_name="atmosphere_potential_energy_content" unit="J m-2" domain_ref="face" />
       <field id="processed__wbig" name="wbig" long_name="wbig_eq_1_where_wphysics_gt_1" unit="1" grid_ref="full_level_face_grid" />
       <field id="processed__pressure_in_w3" name="pressure_in_w3" long_name="pressure_at_cell_centres" unit="Pa" grid_ref="half_level_face_grid" />
       <field id="processed__pressure_in_wth" name="pressure_in_wth" long_name="pressure_at_cell_interfaces" unit="Pa" grid_ref="full_level_face_grid" />
     </field_group>

      <!-- Initial conditions group -->
     <field_group id="initial_fields" freq_op="1ts" operation="once" enabled=".TRUE." >
       <field id="init_theta" name="theta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" grid_ref="full_level_face_grid" />
       <field id="init_m_v" name="m_v" long_name="m_v" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_m_cl" name="m_cl" long_name="m_cl" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_m_r" name="m_r" long_name="m_r" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_m_ci" name="m_ci" long_name="m_ci" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_m_s" name="m_s" long_name="m_s"  unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_m_g" name="m_g" long_name="m_g"  unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_rho" name="rho" long_name="air_density" standard_name="air_density" unit="kg m-3" grid_ref="half_level_face_grid" />
       <field id="init_xi1" name="xi1" long_name="Xi1" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="init_xi2" name="xi2" long_name="Xi2" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="init_xi3" name="xi3" long_name="Xi3" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="init_u_in_w2h" name="u_in_w2h" long_name="eastward_wind" standard_name="eastward_wind"  unit="m s-1" grid_ref="half_level_edge_grid" />
       <field id="init_v_in_w2h" name="v_in_w2h" long_name="northward_wind" standard_name="northward_wind" unit="m s-1" grid_ref="half_level_edge_grid" />
       <field id="init_w_in_wth" name="w_in_wth" long_name="upward_air_velocity" standard_name="upward_air_velocity" unit="m s-1" grid_ref="full_level_face_grid" />
       <field id="init_divergence" name="divergence" long_name="divergence_of_wind" standard_name="divergence_of_wind" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="init_exner" name="exner" long_name="exner_pressure" unit="1" grid_ref="half_level_face_grid" />
       <field id="init_height_w3" name="height_w3" long_name="height_of_cell_centres_above_earth_radius" unit="m" grid_ref="half_level_face_grid" />
       <field id="init_height_wth" name="height_wth" long_name="height_of_cell_interfaces_above_earth_radius" unit="m" grid_ref="full_level_face_grid" />
     </field_group>

     <!-- FD fields group -->
     <field_group id="physics_fd_fields" freq_op="1ts" operation="once"  enabled=".FALSE." >
       <field id="ew_wind_in_w3" name="ew_wind_in_w3" long_name="eastward_wind" standard_name="eastward_wind" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="ns_wind_in_w3" name="ns_wind_in_w3" long_name="northward_wind" standard_name="northward_wind" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="theta_in_wtheta" name="theta_in_wtheta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" grid_ref="full_level_face_grid" />
       <field id="ozone_in_wtheta" name="ozone_in_wtheta" long_name="mass_fraction_of_ozone_in_air" standard_name="mass_fraction_of_ozone_in_air" unit="1" grid_ref="full_level_face_grid" />
       <field id="upward_wind_in_wtheta" name="upward_wind_in_wtheta" long_name="upward_air_velocity" standard_name="upward_air_velocity" unit="m s-1" grid_ref="full_level_face_grid" />
       <field id="dry_rho_in_w3" name="dry_rho_in_w3" long_name="air_density" unit="1" grid_ref="half_level_face_grid" />
       <field id="mv_in_wtheta" name="mv_in_wtheta" long_name="humidity_mixing_ratio"  unit="1" grid_ref="full_level_face_grid" />
       <field id="mcl_in_wtheta" name="mcl_in_wtheta" long_name="cloud_liquid_water_mixing_ratio"  unit="1" grid_ref="full_level_face_grid" />
       <field id="mcf_in_wtheta" name="mcf_in_wtheta" long_name="cloud_ice_mixing_ratio"  unit="1" grid_ref="full_level_face_grid" />
     </field_group>

     <field_group id="masks" freq_op="1ts" operation="once" enabled=".TRUE." >
       <field id="w3_mask" name="w3_mask" long_name="w3_mask" unit="1"  grid_ref="half_level_face_grid"/>
       <field id="wtheta_mask" name="wtheta_mask" long_name="wtheta_mask" unit="1"  grid_ref="full_level_face_grid"/>
       <field id="w3lbc_mask" name="w3lbc_mask" long_name="w3lbc_mask" unit="1"  grid_ref="half_level_face_grid"/>
       <field id="wthetalbc_mask" name="wthetalbc_mask" long_name="wthetalbc_mask" unit="1"  grid_ref="full_level_face_grid"/>
       <field id="w3blend_mask" name="w3blend_mask" long_name="w3blend_mask" unit="1"  grid_ref="half_level_face_grid"/>
       <field id="wthetablend_mask" name="wthetablend_mask" long_name="wthetablend_mask" unit="1"  grid_ref="full_level_face_grid"/>
       <field id="onion_layers" name="onion_layers" long_name="onion_layers" unit="1"  grid_ref="half_level_face_grid"/>
       <field id="h_w2_mask" name="h_w2_mask" long_name="h_w2_mask" unit="1"  grid_ref="half_level_edge_grid"/>
       <field id="h_w2lbc_mask" name="h_w2lbc_mask" long_name="h_w2lbc_mask" unit="1"  grid_ref="half_level_edge_grid"/>
       <field id="h_w2boundary_mask" name="h_w2boundary_mask" long_name="h_w2boundary_mask" unit="1"  grid_ref="half_level_edge_grid"/>
       <field id="h_w2blend_mask" name="h_w2blend_mask" long_name="h_w2blend_mask" unit="1"  grid_ref="half_level_edge_grid"/>
       <field id="v_w2_mask" name="v_w2_mask" long_name="v_w2_mask" unit="1"  grid_ref="full_level_face_grid"/>
       <field id="v_w2lbc_mask" name="v_w2lbc_mask" long_name="v_w2lbc_mask" unit="1"  grid_ref="full_level_face_grid"/>
       <field id="v_w2blend_mask" name="v_w2blend_mask" long_name="v_w2blend_mask" unit="1"  grid_ref="full_level_face_grid"/>
       <field id="v_w2boundary_mask" name="v_w2boundary_mask" long_name="v_w2boundary_mask" unit="1"  grid_ref="full_level_face_grid"/>
     </field_group>

   </field_definition>

   <file_definition
      type="one_file"
      par_access="collective"
      time_counter="none">

      <!-- Checkpoint groups -->

      <!-- File definition for checkpoint write -->
      <file id="lfric_checkpoint_write" name="lfric_checkpoint_write" output_freq="1ts" convention="CF" enabled=".FALSE.">
        <field field_ref="checkpoint_theta"/>
        <field field_ref="checkpoint_exner"/>
        <field field_ref="checkpoint_rho"/>
        <field field_ref="checkpoint_u"/>
        <field field_ref="checkpoint_m_v"/>
        <field field_ref="checkpoint_m_cl"/>
        <field field_ref="checkpoint_m_r"/>
        <field field_ref="checkpoint_m_ci"/>
        <field field_ref="checkpoint_m_s"/>
        <field field_ref="checkpoint_m_g"/>
      </file>

       <!-- file definition for checkpoint read -->
      <file id="lfric_checkpoint_read" name="lfric_checkpoint_read" mode="read" output_freq="1ts" cyclic="true" enabled=".FALSE.">
       <field id="restart_theta" name="theta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_exner" name="exner" long_name="exner_pressure" unit="1" operation="instant" domain_ref="checkpoint_W3" />
       <field id="restart_rho" name="rho" long_name="air_density" standard_name="air_density" unit="kg m-3" operation="instant" domain_ref="checkpoint_W3" />
       <field id="restart_u" name="u" long_name="U" unit="m s-1" operation="instant" domain_ref="checkpoint_W2" />
       <field id="restart_m_v" name="m_v" long_name="m_v" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_m_cl" name="m_cl" long_name="m_cl" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_m_r" name="m_r" long_name="m_r" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_m_ci" name="m_ci" long_name="m_ci" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_m_s" name="m_s" long_name="m_s" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_m_g" name="m_g" long_name="m_g" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       </file>

      <file id="lfric_diag" name="lfric_diag" output_freq="6h" convention="UGRID" enabled=".TRUE.">
	<field_group group_ref="derived_fields" />
        <field field_ref="theta"/>
        <field field_ref="m_v"/>
        <field field_ref="m_cl"/>
        <field field_ref="m_r"/>
        <field field_ref="m_ci"/>
        <field field_ref="m_s"/>
        <field field_ref="m_g"/>
        <field field_ref="rho"/>
        <field field_ref="xi1"/>
        <field field_ref="xi2"/>
        <field field_ref="xi3"/>
        <field field_ref="u_in_w2h"/>
        <field field_ref="v_in_w2h"/>
        <field field_ref="w_in_wth"/>
        <field field_ref="divergence"/>
        <field field_ref="exner"/>
        <field field_ref="processed__tot_col_dry_air_mass" />
        <field field_ref="processed__tot_col_wetplusdry_mass" />
        <field field_ref="processed__tot_col_int_energy" />
        <field field_ref="processed__tot_col_pot_energy" />
        <field field_ref="processed__wbig" />
      </file>

      <file id="lfric_averages" name="lfric_averages" output_freq="12h" convention="UGRID" enabled=".TRUE.">
        <field field_ref="theta" operation="average" />
        <field field_ref="velocity_w2v" operation="average" />
        <field field_ref="u_in_w2h" operation="average" />
        <field field_ref="v_in_w2h" operation="average" />
        <field field_ref="w_in_wth" operation="average" />
        <field field_ref="divergence" operation="average" />
        <field field_ref="exner" operation="average" />
      </file>

      <file id="lfric_initial" name="lfric_initial" output_freq="1ts" convention="UGRID" enabled=".TRUE.">
        <field field_ref="init_theta"/>
        <field field_ref="init_m_v"/>
        <field field_ref="init_m_cl"/>
        <field field_ref="init_m_r"/>
        <field field_ref="init_m_ci"/>
        <field field_ref="init_m_s"/>
        <field field_ref="init_m_g"/>
        <field field_ref="init_rho"/>
        <field field_ref="init_xi1"/>
        <field field_ref="init_xi2"/>
        <field field_ref="init_xi3"/>
        <field field_ref="init_u_in_w2h"/>
        <field field_ref="init_v_in_w2h"/>
        <field field_ref="init_w_in_wth"/>
        <field field_ref="init_divergence"/>
        <field field_ref="init_exner"/>
        <field_group group_ref="masks" />
      </file>

     <!-- File definition for writing an FD dump -->

      <file id="lfric_fd_dump" name="lfric_fd_dump" output_freq="1ts" convention="UGRID" enabled=".FALSE." >
       <field field_ref="ew_wind_in_w3" />
       <field field_ref="ns_wind_in_w3" />
       <field field_ref="theta_in_wtheta" />
       <field field_ref="ozone_in_wtheta" />
       <field field_ref="upward_wind_in_wtheta" />
       <field field_ref="dry_rho_in_w3" />
       <field field_ref="mv_in_wtheta" />
       <field field_ref="mcl_in_wtheta" />
       <field field_ref="mcf_in_wtheta" />
       <field field_ref="tstar"/>
      </file>

      <!-- File definition for reading in from a UM2LFRic FD UGRID format dump  -->

      <file id="read_lfric_fd_dump" name="lfric_fd_dump" mode="read" output_freq="1ts" convention="UGRID" cyclic="true" enabled=".FALSE.">
       <field id="read_ew_wind_in_w3" name="ew_wind_in_w3" long_name="eastward_wind" standard_name="eastward_wind" unit="m s-1" grid_ref="half_level_face_grid" operation="instant" />
       <field id="read_ns_wind_in_w3" name="ns_wind_in_w3" long_name="northward_wind" standard_name="northward_wind" unit="m s-1" grid_ref="half_level_face_grid" operation="instant" />
       <field id="read_theta_in_wtheta" name="theta_in_wtheta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" grid_ref="full_level_face_grid" operation="instant" />
       <field id="read_ozone_in_wtheta" name="ozone_in_wtheta" long_name="mass_fraction_of_ozone_in_air" standard_name="mass_fraction_of_ozone_in_air" unit="1" grid_ref="full_level_face_grid" operation="instant" />
       <field id="read_upward_wind_in_wtheta" name="upward_wind_in_wtheta" long_name="upward_air_velocity" standard_name="upward_air_velocity" unit="m s-1" grid_ref="full_level_face_grid" operation="instant" />
       <field id="read_dry_rho_in_w3" name="dry_rho_in_w3" long_name="air_density" unit="1" grid_ref="half_level_face_grid" operation="instant" />
       <field id="read_mv_in_wtheta" name="mv_in_wtheta" long_name="humidity_mixing_ratio"  unit="1" grid_ref="full_level_face_grid" operation="instant" />
       <field id="read_mcl_in_wtheta" name="mcl_in_wtheta" long_name="cloud_liquid_water_mixing_ratio"  unit="1" grid_ref="full_level_face_grid" operation="instant" />
       <field id="read_mcf_in_wtheta" name="mcf_in_wtheta" long_name="cloud_ice_mixing_ratio"  unit="1" grid_ref="full_level_face_grid" operation="instant" />
       <field id="read_tstar" name="tstar" long_name="surface_temperature" standard_name="surface_temperature" unit="K" domain_ref="face" operation="instant" />
      </file>

        <!-- ANCIL FILES -->

      <file id="orography_ancil" name="orography_ancil" mode="read" output_freq="1ts" convention="UGRID" cyclic="true" enabled=".FALSE.">
       <field id="surface_altitude" name="surface_altitude" long_name="Surface altitude" unit="m" operation="once" domain_ref="face"/>
       </file>

    </file_definition>

  </context>

  <context id = "xios">
    <variable_definition>
      <variable_group id = "buffer">
        <variable id = "optimal_buffer_size" type = "string" >performance</variable>
        <variable id = "buffer_factor_size" type = "double" >1.0</variable>
      </variable_group>

      <variable_group id = "parameters" >
        <variable id = "using_server" type = "bool" >true</variable>
        <variable id = "info_level" type = "int" >50</variable>
        <variable id = "print_file" type="bool">true</variable>
      </variable_group>
    </variable_definition>
  </context>

</simulation>
